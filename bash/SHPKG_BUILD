# package name
shpkg_name="Bash"

# package build dependencies
case "${SHPKG_DISTRO}" in
	debian|termux)
		shpkg_build_depends="build-essential"
		;;
	archlinux)
		shpkg_build_depends="base-devel"
		;;
	redhat)
		shpkg_build_depends="make automake gcc" #??????
		;;
	alpine)
		shpkg_build_depends="alpine-sdk" #??????
		;;
esac

# package source code
shpkg_source="https://ftpmirror.gnu.org/bash/bash-5.1.tar.gz"

# detect distro
case "${SHPKG_DISTRO}" in
	termux)
		INSTALL_PREFIX="${SHPKG_TERMUXROOT}/usr/opt/bash-5.1"
		;;
	*)
		INSTALL_PREFIX="/opt/bash-5.1"
		;;
esac

prepare(){
	cd ${SRCDIR}
	./configure --prefix=${INSTALL_PREFIX}
}

build(){
	make -j$(nproc)
}

finish(){
	echo "Installing bash..."
	${SHPKG_SUDO} make install
}

remove(){
	${SHPKG_SUDO} make uninstall
}
